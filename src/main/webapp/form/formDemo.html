
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
<link rel="stylesheet" href="../js/bootstrap/css/bootstrap.min.css" >
<link rel="stylesheet" href="../js/bootstrap/css/bootstrap-theme.min.css" >
<link rel="stylesheet" href="../js/bootstraptable/css/bootstrap-table.min.css">
<link rel="stylesheet" href="../js/bootstrapselect/css/bootstrap-select.min.css">
<script src="../js/jquery/js/jquery-3.2.1.min.js"></script>
<script src="../js/jquery/js/jquery-rest.js"></script>
<script src="../js/bootstrap/js/bootstrap.min.js"></script>
<script src="../js/bootstraptable/js/tableExport.js"></script>
<script src="../js/bootstraptable/js/bootstrap-table.js"></script>
<script src="../js/bootstraptable/js/bootstrap-table-export.js"></script>
<script src="../js/knockout/js/knockout-3.4.2.js"></script>
<script src="../js/knockout/js/knockout.mapping-latest.js"></script>
<script src="../js/bootstraptable/js/knockout.bootstraptable.js"></script>
<script src="../js/bootstrapselect/js/bootstrap-select.min.js"></script>
<script src="../js/bootstrapselect/js/i18n/defaults-zh_CN.min.js"></script>
<script src="../js/bootstrapcheckbox/js/bootstrap-checkbox.min.js"></script>
<script src="../js/xjl/js/xjl.js"></script>
<script src="../js/xjl/js/xjl-table.js"></script>
<script src="../js/xjl/js/xjl-select.js"></script>
<script type="text/javascript">
/**
 * 1.页面获取所有的字段
 * 2.确定字段类型，如果是字典，先获取字典列表，构建字典属性
 * 3.从数据库中获取值，构建domain
 * 4.画页面
 * 5.处理提交事件，提交domain对象即可，domain存储的是页面上的元素的值
 */
 */
    function MyViewModel() {
        var self = this;
        self.citySelectOptions = [
                {name:"南京",id:1},
                {name:"北京",id:2},
                {name:"上海",id:3}
        ];
        self.domain={};
        self.domain.city = ko.observableArray([2]);
    }
    var myViewModel = new MyViewModel();
    $(function () {
        ko.applyBindings(myViewModel);
    });
    function submit(){
    	var domain = ko.toJS(myViewModel.domain);
    	var domainString = JSON.stringify(domain);
    	console.log("domain",domain);
    	console.log("domainString",domainString);
    }
 </script>
</head >
<body>
    <!-- 指定options来源，option text/value对应的属性名称 -->
城市<select data-bind ="options:citySelectOptions, optionsText: 'name', optionsValue: 'id', selectedOptions:domain.city" multiple="multiple">
    </select><br/>
    已经选择的城市：<span data-bind ="text:domain.city" ></span ><br/>
    <!-- 指定按钮click事件调用ViewModel中的特定函數修改result值 -->
   <input  type ="button"  value ="1,3"  onclick ="myViewModel.domain.city([1,3])"/>
    <input  type ="button"  value ="提交"  onclick ="submit();"/>
</body>
</html>
